---
import { getTagsInfo } from "@/scripts/tags";
import Archives from "../../components/ArticleList.astro";

export async function getStaticPaths() {
    const tags = Array.from(await getTagsInfo()).map(([tag, _count]) => tag);
    const res = tags.map((tag) => ({ params: { tag } }));
    return res;
    // [
    // { params: { /* required */ }, props: { /* optional */ } },
    // { params: { ... } },
    // { params: { ... } },
    // ...
    // ];
}

const { tag } = Astro.params;
---

<Archives type="tag" name={tag} simple={false} title={`标签：${tag}`} />
