---
export interface Props {
  noscript?: boolean;
  source?: string;
}

import Noscript from "@/components/boxes/Noscript.astro";
import { Icon } from "astro-icon/components";
import "@/styles/icon.less";

const { noscript, source } = Astro.props;
const githubLink = source ? source : "https://github.com/OverflowCat/blog";
---

<footer>
  <div class="counter">
    <img
      loading="eager"
      width="238"
      height="75"
      src="https://moe-counter.glitch.me/get/@xinshijiededamen?theme=gelbooru"
    />
  </div>
  {noscript && <Noscript />}
  <div data-build={Date.now()}>
    Built with <a href="https://astro.build/"
      ><span class="icon"><Icon name="simple-icons:astro" /></span>{
        Astro.generator
      }</a
    >
  </div>
  <div>
    <a href={githubLink}>
      {
        source ? (
          <>View & edit source code of this page on&nbsp;</>
        ) : (
          <>Hosted & open sourced on&nbsp;</>
        )
      }
      <span class="icon">
        <Icon name="entypo-social:github" />
      </span>
       GitHub</a
    >
  </div>
  <div>
    <span class="icon"><Icon name="door" /></span>
    <span>新世界的大門 2023</span>
  </div>

  <style is:global lang="less">
    footer {
      margin: 24px;
      text-align: center;
      font-size: 0.8em;
      div {
        margin: 8px 0;
      }
      color: #666;
      a {
        color: #444;
        text-decoration: none;
      }
      .counter > img {
        user-select: none;
        display: block;
        margin: auto;
        padding-block-end: 8px;
      }
    }
  </style>
</footer>
